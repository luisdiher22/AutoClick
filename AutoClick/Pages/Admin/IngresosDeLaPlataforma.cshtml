@page
@model AutoClick.Pages.Admin.IngresosDeLaPlataformaModel
@{
    ViewData["Title"] = "Ingresos de la Plataforma";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<style>
    body {
        margin: 0;
        padding: 0;
        background: #02081C !important;
        font-family: 'Montserrat', sans-serif !important;
        overflow-x: hidden;
    }
    
    .ingresos-container {
        width: 100%;
        min-height: 100vh;
        position: relative;
        background: #02081C;
        overflow-x: hidden;
        overflow-y: auto;
    }
    
    .ingresos-main-content {
        margin-left: 376px;
        padding: 120px 40px 40px 40px;
        background: #02081C;
    }
    
    .page-title {
        color: white;
        font-size: 24px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        margin-bottom: 30px;
        margin-top: 0;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .page-subtitle {
        color: rgba(255, 255, 255, 0.6);
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 400;
        margin-top: 16px;
        margin-bottom: 40px;
    }
    
    /* Tabla de ingresos */
    .tabla-figma-wrapper {
        max-width: 1200px;
        background: rgba(255, 255, 255, 0.15);
        border: 0.5px solid rgba(255, 255, 255, 0.25);
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 40px;
    }
    
    .tabla-figma {
        width: 100%;
        margin: 0;
        border-collapse: collapse;
    }
    
    .tabla-figma thead {
        background: transparent;
    }
    
    .tabla-figma thead th {
        color: #F7F7F7;
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        text-align: left;
        padding: 15px 32px;
        border-bottom: 0.5px solid rgba(255, 255, 255, 0.25);
    }
    
    .tabla-figma tbody tr {
        transition: background-color 0.2s ease;
    }
    
    .tabla-figma tbody tr:nth-child(odd) {
        background: rgba(255, 255, 255, 0.1);
    }
    
    .tabla-figma tbody tr:hover {
        background: rgba(255, 147, 30, 0.1);
    }
    
    .tabla-figma tbody td {
        color: #F7F7F7;
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 500;
        padding: 15px 32px;
    }
    
    .mes-cell {
        font-weight: 600;
        color: white;
    }
    
    .indicator-cell {
        width: 40px;
        text-align: center;
    }
    
    .indicator {
        width: 18px;
        height: 10px;
        border: 2px solid #00CC00;
        background: transparent;
        display: inline-block;
        border-radius: 2px;
    }
    
    .indicator-small {
        width: 4px;
        height: 4px;
        border: 2px solid #00CC00;
        background: transparent;
        display: inline-block;
        border-radius: 50%;
    }
    
    .amount-cell {
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.9);
    }
    
    /* Resumen total */
    .total-summary {
        margin-top: 32px;
        padding: 24px 32px;
        background: linear-gradient(135deg, rgba(79, 70, 229, 0.2), rgba(124, 58, 237, 0.2));
        border-radius: 16px;
        border: 1px solid rgba(79, 70, 229, 0.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
    }
    
    .total-label {
        color: white;
        font-size: 20px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
    }
    
    .total-amount {
        color: white;
        font-size: 32px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 800;
    }
    
    /* Responsive */
    @@media (max-width: 1200px) {
        .ingresos-main-content {
            margin-left: 0;
            padding: 20px;
        }
        
        .ingresos-table {
            font-size: 12px;
        }
        
        .ingresos-table th,
        .ingresos-table td {
            padding: 12px 16px;
        }
    }
    
    @@media (max-width: 768px) {
        .page-title {
            font-size: 28px;
        }
        
        .total-summary {
            flex-direction: column;
            gap: 12px;
            text-align: center;
        }
    }
</style>

<div class="ingresos-container">
    @await Html.PartialAsync("_AdminSidebar")
    
    <div class="ingresos-main-content">
        <!-- Page Title -->
        <h1 class="page-title">
            Ingresos de la Plataforma
        </h1>
        <div class="page-subtitle">
            Resumen de ingresos mensuales por banderines y planes
        </div>
        
        <!-- Tabla de Ingresos -->
        <div class="tabla-figma-wrapper">
            <table class="tabla-figma">
                <thead>
                    <tr>
                        <th>Mes</th>
                        <th style="text-align: right;">Banderines</th>
                        <th style="text-align: right;">Planes</th>
                        <th style="text-align: right;">Ingresos Totales</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var ingreso in Model.IngresosMensuales)
                    {
                        <tr>
                            <td class="mes-cell">@ingreso.MesCapitalizado @ingreso.Ano</td>
                            <td class="amount-cell" style="text-align: right;">@ingreso.IngresosBanderinesFormateado</td>
                            <td class="amount-cell" style="text-align: right;">@ingreso.IngresosPlanesFormateado</td>
                            <td class="amount-cell" style="text-align: right; font-weight: 700;">@ingreso.TotalIngresosFormateado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        
        <!-- Resumen Total -->
        <div class="total-summary">
            <div class="total-label">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 12px;">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Total Ingresos (12 meses)
            </div>
            <div class="total-amount">â‚¡@(Model.TotalIngresos.ToString("N0"))</div>
        </div>
    </div>
</div>
