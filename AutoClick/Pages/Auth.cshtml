@page
@model AuthModel
@{
    ViewData["Title"] = "Iniciar Sesión / Registrarse - AutoClick.cr";
}

@section Styles {
    <link rel="stylesheet" href="~/css/auth.css" />
}

@section Scripts {
    <script src="~/js/auth.js"></script>
    <script>
        // Add body class for auth pages
        document.body.classList.add('auth-body');
    </script>
}

<div class="auth-container">
    <!-- Header -->
    <header class="auth-header">
        <div class="auth-header-content">
            <!-- Logo -->
            <div class="header-logo">
                <a asp-page="/Index">
                    <img src="~/images/logo.png" alt="AutoClick.cr" />
                </a>
            </div>
            
            <!-- Back to Home -->
            <div class="header-nav">
                <a asp-page="/Index" class="back-home-btn">
                    <div class="back-arrow"></div>
                    Volver al inicio
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="auth-main">
        <div class="auth-content">
            <!-- Left Section - Registration -->
            <div class="auth-section register-section">
                <div class="section-header">
                    <h1 class="section-title">Crear cuenta</h1>
                    <p class="section-subtitle">Únase a la comunidad AutoClick.cr</p>
                </div>
                
                <form method="post" asp-page-handler="Register" class="auth-form" id="registerForm">
                    <div class="user-type-selection">
                        <h2 class="selection-title">¿Cómo desea registrarse?</h2>
                        
                        <div class="type-options">
                            <div class="type-option">
                                <input type="radio" id="tipoIndividuo" name="TipoUsuario" value="Individuo" />
                                <label for="tipoIndividuo" class="type-card">
                                    <div class="type-icon individual-icon">
                                        <div class="user-icon"></div>
                                    </div>
                                    <div class="type-content">
                                        <h3 class="type-title">Persona Individual</h3>
                                        <p class="type-description">Ideal para usuarios que quieren comprar o vender su auto personal</p>
                                        <ul class="type-features">
                                            <li>Publicar hasta 3 autos gratis</li>
                                            <li>Acceso completo a búsquedas</li>
                                            <li>Guardados ilimitados</li>
                                        </ul>
                                    </div>
                                </label>
                            </div>
                            
                            <div class="type-option">
                                <input type="radio" id="tipoAgencia" name="TipoUsuario" value="Agencia" />
                                <label for="tipoAgencia" class="type-card">
                                    <div class="type-icon agency-icon">
                                        <div class="building-icon"></div>
                                    </div>
                                    <div class="type-content">
                                        <h3 class="type-title">Agencia / Concesionario</h3>
                                        <p class="type-description">Para empresas dedicadas a la compra y venta de vehículos</p>
                                        <ul class="type-features">
                                            <li>Publicaciones ilimitadas</li>
                                            <li>Herramientas empresariales</li>
                                            <li>Analytics y reportes</li>
                                            <li>Soporte prioritario</li>
                                        </ul>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="register-actions">
                            <button type="submit" class="btn-register" id="btnContinueRegister" disabled>
                                Continuar registro
                            </button>
                            <p class="terms-text">
                                Al registrarse, acepta nuestros 
                                <a href="/TerminosCondiciones" class="terms-link">Términos y condiciones</a> y 
                                <a href="/PoliticaPrivacidad" class="terms-link">Política de privacidad</a>
                            </p>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- Divider -->
            <div class="auth-divider">
                <div class="divider-line"></div>
                <span class="divider-text">o</span>
                <div class="divider-line"></div>
            </div>
            
            <!-- Right Section - Login -->
            <div class="auth-section login-section">
                <div class="section-header">
                    <h1 class="section-title">Iniciar sesión</h1>
                    <p class="section-subtitle">Ingrese a su cuenta existente</p>
                </div>
                
                <form method="post" asp-page-handler="Login" class="auth-form" id="loginForm" autocomplete="off">
                    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                    {
                        <div class="error-message" id="serverErrorMessage">
                            <i class="fas fa-exclamation-triangle" style="margin-right: 8px;"></i>
                            @Model.ErrorMessage
                        </div>
                    }
                    
                    @if (!string.IsNullOrEmpty(Model.SuccessMessage))
                    {
                        <div class="success-message" id="serverSuccessMessage">
                            <i class="fas fa-check-circle" style="margin-right: 8px;"></i>
                            @Model.SuccessMessage
                        </div>
                    }
                    
                    <div class="form-group">
                        <label for="loginEmail">Correo electrónico</label>
                        <input type="email" id="loginEmail" name="LoginEmail" asp-for="LoginEmail" required 
                               placeholder="ejemplo@correo.com" class="form-input" autocomplete="off" />
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Contraseña</label>
                        <input type="password" id="loginPassword" name="LoginPassword" asp-for="LoginPassword" required 
                               placeholder="Su contraseña" class="form-input" autocomplete="off" />
                    </div>
                    
                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" name="RememberMe" asp-for="RememberMe" />
                            <span class="checkbox-custom"></span>
                            Recordar mi sesión
                        </label>
                        
                        <a href="#" class="forgot-password">¿Olvidó su contraseña?</a>
                    </div>
                    
                    <div class="login-actions">
                        <button type="submit" class="btn-login" autocomplete="off" 
                                aria-haspopup="false" aria-expanded="false">
                            Iniciar sesión
                        </button>
                    </div>
                </form>
                
                <!-- Social Login Options -->
                <div class="social-login">
                    <div class="social-divider">
                        <span>O inicie sesión con</span>
                    </div>
                    
                    <div class="social-buttons">
                        <button type="button" class="social-btn google-btn">
                            <div class="social-icon google-icon"></div>
                            Google
                        </button>
                        
                        <button type="button" class="social-btn facebook-btn">
                            <div class="social-icon facebook-icon"></div>
                            Facebook
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

