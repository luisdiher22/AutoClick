@page "/"
@model IndexModel
@{
    ViewData["Title"] = "AutoClick.cr - Compra y venta de autos en Costa Rica";
}

<style>
    /* ====================================
       HERO BACKGROUND CAROUSEL ANIMATION
       ==================================== */
    .index-hero-background-carousel {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 1;
    }

    .index-hero-background-carousel img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center top;
        opacity: 0;
        transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        transform: translateX(0);
    }

    .index-hero-background-carousel img.active {
        opacity: 1;
        z-index: 2;
    }

    .index-hero-background-carousel img.prev {
        opacity: 0;
        transform: translateX(-100%);
        z-index: 1;
    }

    .index-hero-gradient {
        z-index: 3 !important;
    }

    /* Banderin Carousel Styles */
    .index-card-banderin-carousel {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .index-card-banderin-carousel img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        opacity: 0;
        transition: opacity 0.8s ease-in-out;
    }

    .index-card-banderin-carousel img.active {
        opacity: 1;
        z-index: 2;
    }

    /* ====================================
       INDEX RESPONSIVE STYLES - MOBILE
       ==================================== */
    @@media (max-width: 767px) {
        /* Override main container */
        .index-main-container {
            min-height: auto !important;
            position: relative !important;
            display: flex !important;
            flex-direction: column !important;
            overflow: visible !important;
        }
        
        /* Hero section con máxima especificidad */
        div.index-main-container > div.index-hero-section[data-property-1="1"] {
            display: block !important;
            position: relative !important;
            width: 100% !important;
            height: 400px !important;
            margin: 0 !important;
            padding: 0 !important;
            border-radius: 0 !important;
            left: 0 !important;
            top: 0 !important;
            right: auto !important;
            bottom: auto !important;
            transform: none !important;
        }
        
        /* Hide ALL OTHER desktop absolute positioned sections */
        .index-main-container > div[style*="position: absolute"]:not(.index-hero-section),
        .index-main-container > a[style*="position: absolute"] {
            display: none !important;
        }
        
        .index-hero-section img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
        }
        
        .index-hero-gradient {
            display: block !important;
            position: absolute !important;
            width: 100% !important;
            height: 100% !important;
            left: 0 !important;
            top: 0 !important;
        }
        
        /* Ocultar búsqueda rápida en mobile */
        .index-busqueda-rapida {
            display: none !important;
        }
        
        /* Botón "Anuncie su auto" - sobrescribir estilos inline */
        .index-hero-section .index-hero-btn {
            display: flex !important;
            position: absolute !important;
            bottom: 80px !important;
            top: auto !important;
            left: 50% !important;
            right: auto !important;
            transform: translateX(-50%) !important;
            width: 274px !important;
            height: 48px !important;
            padding: 16px !important;
            background: white !important;
            border-radius: 4px !important;
            justify-content: center !important;
            align-items: center !important;
            gap: 8px !important;
            z-index: 10 !important;
        }
        
        .index-hero-section .index-hero-btn-text {
            color: #06174D !important;
            font-size: 16px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
        }
        
        /* Texto del hero */
        .index-hero-text {
            display: block !important;
            position: absolute !important;
            width: 90% !important;
            max-width: 320px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            top: 50% !important;
            margin-top: -80px !important;
            text-align: center !important;
            color: white !important;
            font-size: 20px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
        }
        
        /* Show responsive sections */
        .index-section-responsive {
            display: block !important;
            position: relative !important;
            padding: 0;
            margin-top: 0;
            overflow: visible !important;
        }
        
        /* Noticias section sin padding lateral */
        .index-section-responsive:has(.index-noticias-container) {
            padding: 0 !important;
        }
        
        .index-section-responsive .index-noticias-container {
            width: 100% !important;
            padding: 0 16px 0 16px !important;
        }
        
        .index-section-divider {
            display: block !important;
            height: 1px;
            background: rgba(255, 255, 255, 0.15);
            width: calc(100% - 32px);
            margin: 16px 16px !important;
        }
        
        /* Quitar subrayado de links en cards */
        .index-card-small {
            text-decoration: none !important;
        }
        
        .index-card-small-title,
        .index-card-small-price {
            text-decoration: none !important;
        }
        
        /* Botón "Ver más" extendido hacia arriba */
        .index-card-ver-mas {
            width: 139px !important;
            height: 200px !important;
            align-self: flex-start !important;
            margin-top: 0 !important;
        }
        
        .index-card-ver-mas-btn {
            width: 100% !important;
            height: 100% !important;
            text-decoration: none !important;
        }
        
        /* Contenedor de noticias sin padding lateral */
        .index-noticias-container {
            padding: 0 !important;
            margin: 0 !important;
        }
        
        /* Noticias - Primera grande con texto sobre imagen */
        .index-noticia-grande {
            position: relative !important;
            width: 100% !important;
            height: 200px !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            text-decoration: none !important;
            display: block !important;
            margin-bottom: 16px !important;
        }
        
        .index-noticia-grande img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
        }
        
        .index-noticia-gradient {
            position: absolute !important;
            bottom: 0 !important;
            left: 0 !important;
            width: 100% !important;
            padding: 12px 16px !important;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 25%, rgba(0,0,0,0)) !important;
        }
        
        .index-noticia-grande .index-noticia-title {
            color: white !important;
            font-size: 16px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
            margin: 0 !important;
        }
        
        /* Noticias medianas - imagen pequeña a la izquierda, sin fondo */
        .index-noticia-mediana {
            display: flex !important;
            gap: 12px !important;
            margin-bottom: 16px !important;
            text-decoration: none !important;
            background: transparent !important;
            padding: 0 !important;
        }
        
        .index-noticia-mediana img {
            width: 144px !important;
            height: 64px !important;
            object-fit: cover !important;
            border-radius: 4px !important;
            flex-shrink: 0 !important;
        }
        
        .index-noticia-info {
            flex: 1 !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
        }
        
        .index-noticia-fecha {
            color: rgba(255, 255, 255, 0.7) !important;
            font-size: 12px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 500 !important;
            margin: 0 0 4px 0 !important;
        }
        
        .index-noticia-mediana .index-noticia-title {
            color: white !important;
            font-size: 14px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
            margin: 0 !important;
            display: -webkit-box !important;
            -webkit-line-clamp: 2 !important;
            -webkit-box-orient: vertical !important;
            overflow: hidden !important;
        }
    }
    
    /* ====================================
       INDEX RESPONSIVE STYLES - TABLET
       ==================================== */
    @@media (min-width: 768px) and (max-width: 1023px) {
        /* Override main container */
        .index-main-container {
            min-height: auto !important;
            position: relative !important;
            display: flex !important;
            flex-direction: column !important;
            overflow: visible !important;
        }
        
        /* Hero section con máxima especificidad */
        div.index-main-container > div.index-hero-section[data-property-1="1"] {
            display: block !important;
            position: relative !important;
            width: 100% !important;
            height: 500px !important;
            margin: 0 !important;
            padding: 0 !important;
            border-radius: 0 !important;
            left: 0 !important;
            top: 0 !important;
            right: auto !important;
            bottom: auto !important;
            transform: none !important;
        }
        
        /* Hide ALL OTHER desktop absolute positioned sections */
        .index-main-container > div[style*="position: absolute"]:not(.index-hero-section),
        .index-main-container > a[style*="position: absolute"] {
            display: none !important;
        }
        
        .index-hero-section img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
            position: absolute !important;
            left: 0 !important;
            top: 0 !important;
        }
        
        .index-hero-gradient {
            display: block !important;
            position: absolute !important;
            width: 100% !important;
            height: 100% !important;
            left: 0 !important;
            top: 0 !important;
        }
        
        /* Ocultar búsqueda rápida en tablet */
        .index-busqueda-rapida {
            display: none !important;
        }
        
        /* Botón "Anuncie su auto" - sobrescribir estilos inline */
        .index-hero-section .index-hero-btn {
            display: flex !important;
            position: absolute !important;
            bottom: 96px !important;
            top: auto !important;
            left: 50% !important;
            right: auto !important;
            transform: translateX(-50%) !important;
            width: 320px !important;
            height: 56px !important;
            padding: 16px !important;
            background: white !important;
            border-radius: 4px !important;
            justify-content: center !important;
            align-items: center !important;
            gap: 8px !important;
            z-index: 10 !important;
        }
        
        .index-hero-section .index-hero-btn-text {
            color: #06174D !important;
            font-size: 18px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
        }
        
        /* Texto del hero */
        .index-hero-text {
            display: block !important;
            position: absolute !important;
            width: 90% !important;
            max-width: 450px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            top: 50% !important;
            margin-top: -100px !important;
            text-align: center !important;
            color: white !important;
            font-size: 24px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
        }
        
        /* Show responsive sections */
        .index-section-responsive {
            display: block !important;
            position: relative !important;
            padding: 0;
            margin-top: 20px;
            overflow: visible !important;
        }
        
        /* Noticias section sin padding lateral */
        .index-section-responsive:has(.index-noticias-container) {
            padding: 0 !important;
        }
        
        .index-section-responsive .index-noticias-container {
            width: 100% !important;
            padding: 0 40px 0 40px !important;
        }
        
        .index-section-divider {
            display: block !important;
            height: 1px;
            background: rgba(255, 255, 255, 0.15);
            width: calc(100% - 80px);
            margin: 20px 40px !important;
        }
        
        /* Quitar subrayado de links en cards */
        .index-card-small {
            text-decoration: none !important;
        }
        
        .index-card-small-title,
        .index-card-small-price {
            text-decoration: none !important;
        }
        
        /* Botón "Ver más" extendido hacia arriba */
        .index-card-ver-mas {
            width: 150px !important;
            height: 220px !important;
            align-self: flex-start !important;
            margin-top: 0 !important;
        }
        
        .index-card-ver-mas-btn {
            width: 100% !important;
            height: 100% !important;
            text-decoration: none !important;
        }
        
        /* Contenedor de noticias sin padding lateral */
        .index-noticias-container {
            padding: 0 !important;
            margin: 0 !important;
        }
        
        /* Noticias - Primera grande con texto sobre imagen */
        .index-noticia-grande {
            position: relative !important;
            width: 100% !important;
            height: 280px !important;
            border-radius: 8px !important;
            overflow: hidden !important;
            text-decoration: none !important;
            display: block !important;
            margin-bottom: 20px !important;
        }
        
        .index-noticia-grande img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
        }
        
        .index-noticia-gradient {
            position: absolute !important;
            bottom: 0 !important;
            left: 0 !important;
            width: 100% !important;
            padding: 16px 0 !important;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 25%, rgba(0,0,0,0)) !important;
        }
        
        .index-noticia-grande .index-noticia-title {
            color: white !important;
            font-size: 18px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
            margin: 0 !important;
        }
        
        /* Noticias medianas - imagen pequeña a la izquierda, sin fondo */
        .index-noticia-mediana {
            display: flex !important;
            gap: 16px !important;
            margin-bottom: 20px !important;
            text-decoration: none !important;
            background: transparent !important;
            padding: 0 !important;
        }
        
        .index-noticia-mediana img {
            width: 144px !important;
            height: 64px !important;
            object-fit: cover !important;
            border-radius: 4px !important;
            flex-shrink: 0 !important;
        }
        
        .index-noticia-info {
            flex: 1 !important;
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
        }
        
        .index-noticia-fecha {
            color: rgba(255, 255, 255, 0.7) !important;
            font-size: 13px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 500 !important;
            margin: 0 0 6px 0 !important;
        }
        
        .index-noticia-mediana .index-noticia-title {
            color: white !important;
            font-size: 15px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-weight: 700 !important;
            line-height: 1.3 !important;
            margin: 0 !important;
            display: -webkit-box !important;
            -webkit-line-clamp: 2 !important;
            -webkit-box-orient: vertical !important;
            overflow: hidden !important;
        }
    }

    /* ====================================
       ESTILOS COMUNES PARA RESPONSIVE
       ==================================== */
    
    /* Cards sections */
    .index-section-header {
        width: 100%;
        padding: 30px 0 16px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        overflow: visible;
    }
    
    .index-section-title {
        color: white;
        font-size: 20px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
    }
    
    .index-cards-scroll-container {
        width: 100%;
        overflow-x: auto;
        overflow-y: visible;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
        padding: 25px 0 16px 0;
        margin: 0;
    }
    
    .index-cards-scroll-container::-webkit-scrollbar {
        display: none;
    }
    
    .index-cards-scroll-wrapper {
        display: flex;
        gap: 16px;
        width: max-content;
        overflow: visible;
    }
    
    .index-card-small {
        flex-shrink: 0;
        width: 226px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        cursor: pointer;
        position: relative;
        text-decoration: none;
        overflow: visible;
    }
    
    .index-card-small-image {
        width: 100%;
        height: 136px;
        border-radius: 2px;
        overflow: visible;
        position: relative;
    }
    
    .index-card-small-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .index-card-banderin {
        position: absolute;
        top: -16px;
        right: 4.15px;
        width: 76.853px;
        height: 75.999px;
        z-index: 10;
    }
    
    .index-card-banderin img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
    
    .index-card-small-info {
        display: flex;
        flex-direction: column;
        gap: 12px;
        color: white;
    }
    
    .index-card-small-title {
        font-size: 14px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        color: white;
    }
    
    .index-card-small-price {
        font-size: 16px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        color: white;
    }
    
    .index-card-ver-mas {
        flex-shrink: 0;
        display: flex;
        align-items: center;
    }
    
    .index-card-ver-mas-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.25);
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 16px;
        cursor: pointer;
        text-decoration: none;
    }
    
    .index-card-ver-mas-icon {
        width: 30px;
        height: 30px;
    }
    
    .index-card-ver-mas-text {
        color: white;
        font-size: 16px;
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        text-align: center;
        line-height: 1.3;
    }
    
    /* Marcas grid */
    .index-marcas-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 16px;
        width: 100%;
    }
    
    .index-marca-item {
        aspect-ratio: 1;
        background: rgba(3, 13, 43, 0.5);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .index-marca-item:hover {
        background: rgba(3, 13, 43, 0.8);
        transform: scale(1.05);
    }
    
    .index-marca-item img {
        max-width: 80%;
        max-height: 80%;
        object-fit: contain;
    }
    
    /* Noticias container */
    .index-noticias-container {
        width: 100%;
        display: flex;
        flex-direction: column;
    }

    /* Estilos para las cards de autos */
    .auto-card {
        background: #02081C;
        transition: background 0.3s ease, transform 0.2s ease;
    }

    .auto-card:hover {
        background: rgba(255, 255, 255, 0.05);
        transform: translateY(-4px);
    }

    /* Estilos para botones inline de favorito y compartir - v3.0 FIXED */
    .favorite-btn-inline,
    .share-btn-inline {
        background: transparent;
        border: none;
        padding: 0;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.2s ease, filter 0.2s ease;
        flex-shrink: 0;
    }

    /* TAMAÑOS EXACTOS - NO TOCAR */
    .favorite-btn-inline {
        width: 24px !important;
        height: 24px !important;
        margin-right: 0px !important;
    }

    .favorite-btn-inline img,
    .favorite-btn-inline svg {
        width: 24px !important;
        height: 24px !important;
        display: block !important;
    }

    .share-btn-inline {
        width: 24px !important;
        height: 24px !important;
    }

    .share-btn-inline img,
    .share-btn-inline svg {
        width: 24px !important;
        height: 24px !important;
        display: block !important;
    }

    .favorite-btn-inline:hover,
    .share-btn-inline:hover {
        transform: scale(1.15);
        filter: drop-shadow(0 2px 4px rgba(255, 255, 255, 0.3));
    }

    .favorite-btn-inline:active,
    .share-btn-inline:active {
        transform: scale(0.95);
    }

    .favorite-btn-inline.is-favorite img {
        animation: heartBeat 0.3s ease-in-out;
    }

    @@keyframes heartBeat {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.2);
        }
    }

    /* Estilos para la sección de Noticias */
    .noticia-grande:hover {
        transform: scale(1.02);
        transition: transform 0.3s ease;
    }

    .noticia-mediana {
        transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .noticia-mediana:hover {
        background-color: rgba(255, 255, 255, 0.05);
        transform: translateX(5px);
    }

    .noticia-grande img,
    .noticia-mediana img {
        transition: transform 0.3s ease;
    }

    .noticia-grande:hover img,
    .noticia-mediana:hover img {
        transform: scale(1.05);
    }
</style>

<div class="index-main-container" style="width: 100%; min-height: 4100px; position: relative; background: #02081C; overflow: hidden">
    <!-- Hero Image Section -->
    <div data-property-1="1" class="index-hero-section" style="width: calc(100% - 64px); height: 736px; left: 32px; top: 0px; position: absolute; overflow: hidden; border-radius: 12px">
        <!-- Background Carousel -->
        <div class="index-hero-background-carousel">
            <img class="active" src="~/images/background/Background1.svg" alt="Background 1" />
            <img src="~/images/background/Background2.svg" alt="Background 2" />
            <img src="~/images/background/Background3.svg" alt="Background 3" />
        </div>
        <div class="index-hero-gradient" style="width: 100%; height: 736px; left: 0px; top: 0px; position: absolute; background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.90) 100%); overflow: hidden">
            <!-- Búsqueda rápida centrada -->
            <div class="index-busqueda-rapida" style="width: 624px; padding-left: 20px; padding-right: 20px; padding-top: 19px; padding-bottom: 19px; left: 50%; top: 266px; position: absolute; transform: translateX(-50%); background: rgba(0, 0, 0, 0.25); box-shadow: 5px 5px 6px rgba(0, 0, 0, 0.25); overflow: hidden; border-radius: 4px; outline: 1px white solid; outline-offset: -1px; backdrop-filter: blur(6px); flex-direction: column; justify-content: flex-start; align-items: center; gap: 32px; display: inline-flex">
                <div style="align-self: stretch; text-box-trim: trim-both; text-box-edge: cap alphabetic; text-align: center; color: white; font-size: 32px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Búsqueda rápida</div>
                <form method="get" action="@Url.Page("/BusquedaAvanzada")" style="align-self: stretch; flex-direction: column; justify-content: flex-start; align-items: center; gap: 32px; display: flex;">
                    <div data-property-1="Default" style="align-self: stretch; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 16px; display: flex">
                        <div style="align-self: stretch; text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 16px; font-family: Montserrat; font-weight: 500; word-wrap: break-word">¿Qué auto anda buscando?</div>
                        <div style="align-self: stretch; padding: 16px; background: white; overflow: hidden; border-radius: 4px; justify-content: space-between; align-items: center; display: inline-flex">
                            <input type="text" name="Search" placeholder="Digite marca o modelo" style="width: 100%; border: none; outline: none; text-box-trim: trim-both; text-box-edge: cap alphabetic; color: rgba(0, 0, 0, 0.50); font-size: 16px; font-family: Montserrat; font-weight: 500; word-wrap: break-word; background: transparent;" />
                        </div>
                    </div>
                    <button type="submit" data-estado="Default" style="width: 129px; height: 44px; padding: 16px; background: white; border: none; border-radius: 4px; justify-content: center; align-items: center; gap: 8px; display: inline-flex; cursor: pointer;">
                        <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: #06174D; font-size: 16px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Buscar</div>
                    </button>
                </form>
            </div>
            
            <!-- Botón Anuncie su auto ahora -->
            <a href="@Url.Page("/AnunciarMiAuto")" class="index-hero-btn" style="padding: 16px; right: 64px; top: 626px; position: absolute; background: white; border-radius: 4px; justify-content: center; align-items: center; gap: 8px; display: inline-flex; cursor: pointer; text-decoration: none;">
                <div class="index-hero-btn-text" style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: #06174D; font-size: 20px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Anuncie su auto ahora</div>
            </a>
            
            <!-- Texto principal -->
            <div class="index-hero-text" style="width: 601px; left: 64px; top: 611px; position: absolute; text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 32px; font-family: Montserrat; font-weight: 700; word-wrap: break-word; text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.75)">¡En AutoClick.cr, usted puede anunciar su auto sin ningún costo!</div>
        </div>
    </div>

    <!-- ==========================================
         RESPONSIVE SECTIONS (Mobile & Tablet)
         ========================================== -->
    
    <!-- Autos Destacados - Responsive -->
    <div class="index-section-responsive" style="display: none;">
        <div class="index-section-header">
            <div class="index-section-title">Autos destacados<span class="swipe-hint">‹‹DESLICE</span></div>
        </div>
        @if (Model.AutosDestacados.Any())
        {
        <div class="index-cards-scroll-container">
            <div class="index-cards-scroll-wrapper">
                @{int respIndex = 0;}
                @foreach (var auto in Model.AutosDestacados.Take(9))
                {
                    respIndex++;
                    <a href="@Url.Page("/Producto", new { id = auto.Id })" class="index-card-small">
                        <div class="index-card-small-image">
                            <img src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/226x136" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />
                            @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                            {
                                <div class="index-card-banderin" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count">
                                    <div class="index-card-banderin-carousel">
                                        @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                                        {
                                            <img src="@Model.BanderinUrls[auto.Id][i]" class="@(i == 0 ? "active" : "")" alt="Banderín" />
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="index-card-small-info">
                            <div class="index-card-small-title">@auto.NombreCompleto</div>
                            <div class="index-card-small-price">@auto.PrecioFormateado</div>
                        </div>
                    </a>
                }
                <div class="index-card-ver-mas">
                    <a href="@Url.Page("/Destacados")" class="index-card-ver-mas-btn">
                        <svg class="index-card-ver-mas-icon" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 5L15 25M5 15L25 15" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="index-card-ver-mas-text">Ver más<br/>destacados</div>
                    </a>
                </div>
            </div>
        </div>
        }
        else
        {
        <div class="index-empty-message" style="width: 100%; padding: 40px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 16px;">
            No se encuentran autos destacados por mostrar
        </div>
        }
    </div>

    <div class="index-section-divider" style="display: none;"></div>

    <!-- Recién Vistos - Responsive -->
    <div class="index-section-responsive" style="display: none;">
        <div class="index-section-header">
            <div class="index-section-title">Recién vistos<span class="swipe-hint">‹‹DESLICE</span></div>
        </div>
        @if (Model.AutosRecientes.Any())
        {
        <div class="index-cards-scroll-container">
            <div class="index-cards-scroll-wrapper">
                @foreach (var auto in Model.AutosRecientes.Take(9))
                {
                    <a href="@Url.Page("/Producto", new { id = auto.Id })" class="index-card-small">
                        <div class="index-card-small-image">
                            <img src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/226x136" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />
                            @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                            {
                                <div class="index-card-banderin" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count">
                                    <div class="index-card-banderin-carousel">
                                        @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                                        {
                                            <img src="@Model.BanderinUrls[auto.Id][i]" class="@(i == 0 ? "active" : "")" alt="Banderín" />
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="index-card-small-info">
                            <div class="index-card-small-title">@auto.NombreCompleto</div>
                            <div class="index-card-small-price">@auto.PrecioFormateado</div>
                        </div>
                    </a>
                }
                <div class="index-card-ver-mas">
                    <a href="@Url.Page("/RecienVistos")" class="index-card-ver-mas-btn">
                        <svg class="index-card-ver-mas-icon" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 5L15 25M5 15L25 15" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="index-card-ver-mas-text">Ver más<br/>recién vistos</div>
                    </a>
                </div>
            </div>
        </div>
        }
        else
        {
        <div class="index-empty-message" style="width: 100%; padding: 40px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 16px;">
            No se encuentran autos recién vistos por mostrar
        </div>
        }
    </div>

    <div class="index-section-divider" style="display: none;"></div>

    <!-- Autos Guardados - Responsive -->
    <div class="index-section-responsive" style="display: none;">
        <div class="index-section-header">
            <div class="index-section-title">Autos guardados<span class="swipe-hint">‹‹DESLICE</span></div>
        </div>
        @if (Model.AutosGuardados.Any())
        {
        <div class="index-cards-scroll-container">
            <div class="index-cards-scroll-wrapper">
                @foreach (var auto in Model.AutosGuardados.Take(9))
                {
                    <a href="@Url.Page("/Producto", new { id = auto.Id })" class="index-card-small">
                        <div class="index-card-small-image">
                            <img src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/226x136" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />
                            @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                            {
                                <div class="index-card-banderin" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count">
                                    <div class="index-card-banderin-carousel">
                                        @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                                        {
                                            <img src="@Model.BanderinUrls[auto.Id][i]" class="@(i == 0 ? "active" : "")" alt="Banderín" />
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="index-card-small-info">
                            <div class="index-card-small-title">@auto.NombreCompleto</div>
                            <div class="index-card-small-price">@auto.PrecioFormateado</div>
                        </div>
                    </a>
                }
                <div class="index-card-ver-mas">
                    <a href="@Url.Page("/Guardados")" class="index-card-ver-mas-btn">
                        <svg class="index-card-ver-mas-icon" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 5L15 25M5 15L25 15" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="index-card-ver-mas-text">Ver<br/>guardados</div>
                    </a>
                </div>
            </div>
        </div>
        }
        else
        {
        <div class="index-empty-message" style="width: 100%; padding: 40px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 16px;">
            No se encuentran autos guardados por mostrar
        </div>
        }
    </div>

    <div class="index-section-divider" style="display: none;"></div>

    <!-- Explorar Todos los Autos - Responsive -->
    <div class="index-section-responsive" style="display: none;">
        <div class="index-section-header">
            <div class="index-section-title">Explorar todos los autos<span class="swipe-hint">‹‹DESLICE</span></div>
        </div>
        @if (Model.AutosExploracion.Any())
        {
        <div class="index-cards-scroll-container">
            <div class="index-cards-scroll-wrapper">
                @foreach (var auto in Model.AutosExploracion.Take(9))
                {
                    <a href="@Url.Page("/Producto", new { id = auto.Id })" class="index-card-small">
                        <div class="index-card-small-image">
                            <img src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/226x136" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />
                            @if (!string.IsNullOrEmpty(auto.BanderinVideoUrl) && Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                            {
                                <div class="index-card-banderin" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count">
                                    <div class="index-banderin-carousel">
                                        @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                                        {
                                            <img src="@Model.BanderinUrls[auto.Id][i]" class="@(i == 0 ? "active" : "")" alt="Banderín" />
                                        }
                                    </div>
                                </div>
                            }
                        </div>
                        <div class="index-card-small-info">
                            <div class="index-card-small-title">@auto.NombreCompleto</div>
                            <div class="index-card-small-price">@auto.PrecioFormateado</div>
                        </div>
                    </a>
                }
                <div class="index-card-ver-mas">
                    <a href="@Url.Page("/BusquedaAvanzada")" class="index-card-ver-mas-btn">
                        <svg class="index-card-ver-mas-icon" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 5L15 25M5 15L25 15" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="index-card-ver-mas-text">Ver todos<br/>los autos</div>
                    </a>
                </div>
            </div>
        </div>
        }
        else
        {
        <div class="index-empty-message" style="width: 100%; padding: 40px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 16px;">
            No se encuentran autos por explorar
        </div>
        }
    </div>

    <div class="index-section-divider" style="display: none;"></div>

    <!-- Explorar por Marca - Responsive -->
    <div class="index-section-responsive" style="display: none;">
        <div class="index-section-header">
            <div class="index-section-title">Explorar por marca</div>
        </div>
        <div class="index-marcas-grid">
            <a href="/BusquedaAvanzada?marca=Lexus" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Lexus.png" alt="Lexus" />
            </a>
            <a href="/BusquedaAvanzada?marca=Toyota" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Toyota.png" alt="Toyota" />
            </a>
            <a href="/BusquedaAvanzada?marca=Kia" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/KIA.png" alt="Kia" />
            </a>
            <a href="/BusquedaAvanzada?marca=Nissan" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/NISSAN.png" alt="Nissan" />
            </a>
            <a href="/BusquedaAvanzada?marca=Mercedes-Benz" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Mercedes%20Benz.png" alt="Mercedes-Benz" />
            </a>
            <a href="/BusquedaAvanzada?marca=BMW" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/BMW.png" alt="BMW" />
            </a>
            <a href="/BusquedaAvanzada?marca=Audi" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Audi.png" alt="Audi" />
            </a>
            <a href="/BusquedaAvanzada?marca=Porsche" class="index-marca-item">
                <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Porsche.png" alt="Porsche" />
            </a>
        </div>
    </div>

    <div class="index-section-divider" style="display: none;"></div>

    <!-- Noticias - Responsive -->
    <div class="index-section-responsive" style="display: none; margin-bottom: 32px;">
        <div class="index-section-header">
            <div class="index-section-title">Noticias</div>
        </div>
        <div class="index-noticias-container">
            <!-- Noticia Grande -->
            <a href="https://autoclick.cr" target="_blank" rel="noopener noreferrer" class="index-noticia-grande">
                <img src="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=800&h=600&fit=crop" alt="Noticia principal" />
                <div class="index-noticia-gradient">
                    <p class="index-noticia-title">Nace AutoClick.cr: su nuevo aliado para encontrar o vender carro en Costa Rica</p>
                </div>
            </a>

            <!-- Noticia 1 -->
            <a href="https://www.larepublica.net/seccion/motores" target="_blank" rel="noopener noreferrer" class="index-noticia-mediana">
                <img src="https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=300&h=200&fit=crop" alt="Noticia 1" />
                <div class="index-noticia-info">
                    <p class="index-noticia-fecha">13 de junio de 2025</p>
                    <p class="index-noticia-title">Cambios fiscales para vehículos eléctricos en Costa Rica | La República</p>
                </div>
            </a>

            <!-- Facebook -->
            <a href="https://www.facebook.com/people/AutoClickcr/61578327757688/" target="_blank" rel="noopener noreferrer" class="noticia-mediana" style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(59, 89, 152, 0.15) 0%, rgba(88, 113, 186, 0.12) 50%, rgba(59, 89, 152, 0.08) 100%); border: 1px solid rgba(59, 89, 152, 0.4); border-radius: 4px; transition: all 0.3s ease; padding: 16px; box-shadow: 0 4px 12px rgba(59, 89, 152, 0.1); text-decoration: none;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="#1877F2" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
                <p style="color: white; font-size: 14px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Síguenos en Facebook</p>
            </a>

            <!-- Instagram -->
            <a href="https://www.instagram.com/autoclick.cr/" target="_blank" rel="noopener noreferrer" class="noticia-mediana" style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(131, 58, 180, 0.15) 0%, rgba(253, 29, 29, 0.12) 50%, rgba(252, 176, 69, 0.1) 100%); border: 1px solid rgba(225, 48, 108, 0.4); border-radius: 4px; transition: all 0.3s ease; padding: 16px; box-shadow: 0 4px 12px rgba(225, 48, 108, 0.1); text-decoration: none;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="url(#instagram-gradient)" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="instagram-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#833AB4;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#FD1D1D;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#FCB045;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
                <p style="color: white; font-size: 14px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Síguenos en Instagram</p>
            </a>

            <!-- WhatsApp -->
            <a href="https://wa.me/50671052418" target="_blank" rel="noopener noreferrer" class="noticia-mediana" style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(37, 211, 102, 0.15) 0%, rgba(52, 232, 122, 0.12) 50%, rgba(37, 211, 102, 0.08) 100%); border: 1px solid rgba(37, 211, 102, 0.4); border-radius: 4px; transition: all 0.3s ease; padding: 16px; box-shadow: 0 4px 12px rgba(37, 211, 102, 0.1); text-decoration: none;">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="#25D366" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                </svg>
                <p style="color: white; font-size: 14px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Contáctanos por WhatsApp</p>
            </a>
        </div>
    </div>

    <!-- END RESPONSIVE SECTIONS -->

    <!-- ========================================== -->

    <!-- Sección Autos destacados -->
    <div class="index-section-destacados-desktop" style="width: 100%; left: 0px; top: 816px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="width: calc(100% - 64px); padding-right: 32px; justify-content: space-between; align-items: center; display: flex">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Autos destacados</div>
            <div data-estado="Default" style="height: 40px; justify-content: center; align-items: center; gap: 8px; display: flex">
                <div style="justify-content: center; align-items: center; gap: 8px; display: flex">
                    <a asp-page="/Destacados" style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 18px; font-family: Montserrat; font-weight: 500; text-decoration: underline; word-wrap: break-word">Ver todos los destacados</a>
                </div>
            </div>
        </div>
    </div>
    
    @if (Model.AutosDestacados.Any())
    {
        int destacadoIndex = 0;
        foreach (var auto in Model.AutosDestacados.Take(4))
        {
        <div class="auto-card" data-estado="Default" style="width: calc((100% - 160px) / 4); height: 360px; padding: 8px; left: calc(32px + @destacadoIndex * (100% - 160px) / 4 + @destacadoIndex * 32px); top: 872px; position: absolute; border-radius: 8px; overflow: visible; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex; cursor: pointer;" onclick="window.location.href='@Url.Page("/Producto", new { id = auto.Id })'">
            <div style="width: 100%; height: 260px; position: relative; overflow: visible;">
                <img style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/392x200" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />

                @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                {
                    <div class="index-card-banderin-desktop" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count" style="position: absolute; top: -22px; right: 2px; width: 104px; height: 103px; pointer-events: none; z-index: 100;">
                        <div class="index-card-banderin-carousel">
                            @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                            {
                                var banderinUrl = Model.BanderinUrls[auto.Id][i];
                                var isGif = banderinUrl.EndsWith(".gif", StringComparison.OrdinalIgnoreCase);
                                @if (isGif)
                                {
                                    <img src="@banderinUrl" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;" alt="Banderín" />
                                }
                                else
                                {
                                    <video autoplay loop muted playsinline preload="auto" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;">
                                        <source src="@banderinUrl" type="video/mp4">
                                    </video>
                                }
                            }
                        </div>
                    </div>
                }
            </div>

            <!-- Información del auto en 2 columnas -->
            <div style="width: 100%; padding: 8px 0; flex-direction: column; gap: 8px; display: flex;">
                <!-- Primera fila: Nombre y Favorito -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: flex-start; gap: 8px;">
                    <div style="flex: 1; color: white; font-size: 20px; font-family: Montserrat; font-weight: 700; line-height: 1.2; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">@auto.NombreCompleto</div>
                    <button class="favorite-btn-inline" 
                            data-auto-id="@auto.Id" 
                            data-email-usuario="@(User.Identity?.IsAuthenticated == true ? User.FindFirst(System.Security.Claims.ClaimTypes.Email)?.Value ?? User.FindFirst("Email")?.Value : "")"
                            title="Agregar a favoritos"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); return false;">
                        <img src="https://autoclickstorage.blob.core.windows.net/uploads/Component%20183.png" 
                             alt="Favorito" />
                    </button>
                </div>
                <!-- Segunda fila: Precio y Compartir -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: center; gap: 8px;">
                    <div style="color: white; font-size: 20px; font-family: Montserrat; font-weight: 500;">@auto.PrecioEnCRC</div>
                    <button class="share-btn-inline" 
                            data-auto-id="@auto.Id"
                            title="Compartir"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); shareAuto(@auto.Id, '@auto.NombreCompleto'); return false;">
                        <img src="/images/icons/share.svg" 
                             alt="Compartir" />
                    </button>
                </div>
            </div>
        </div>
            destacadoIndex++;
        }
    }
    else
    {
        <div style="width: calc(100% - 64px); left: 32px; top: 935px; position: absolute; padding: 80px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 18px;">
            No se encuentran autos destacados por mostrar
        </div>
    }

    <!-- Línea divisora después de Autos destacados -->
    <div style="width: calc(100% - 64px); height: 1px; background: rgba(255, 255, 255, 0.15); left: 32px; top: 1272px; position: absolute;"></div>

    <!-- Sección Recién vistos -->
    <div style="width: 100%; left: 0px; top: 1312px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="width: calc(100% - 64px); padding-left: 32px; padding-right: 32px; justify-content: space-between; align-items: center; display: flex">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Recién vistos</div>
            <div data-estado="Default" style="height: 40px; justify-content: center; align-items: center; gap: 8px; display: flex">
                <div style="justify-content: center; align-items: center; gap: 8px; display: flex">
                    <a asp-page="/RecienVistos" style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 18px; font-family: Montserrat; font-weight: 500; text-decoration: underline; word-wrap: break-word">Ver todos los recién vistos</a>
                </div>
            </div>
        </div>
    </div>

    @if (Model.AutosRecientes.Any())
    {
        int recientesIndex = 0;
        foreach (var auto in Model.AutosRecientes.Take(4))
        {
        <div class="auto-card" data-estado="Default" style="width: calc((100% - 160px) / 4); height: 360px; padding: 8px; left: calc(32px + @recientesIndex * (100% - 160px) / 4 + @recientesIndex * 32px); top: 1368px; position: absolute; border-radius: 8px; overflow: visible; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex; cursor: pointer;" onclick="window.location.href='@Url.Page("/Producto", new { id = auto.Id })'">
            <div style="width: 100%; height: 260px; position: relative; overflow: visible;">
                <img style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/392x200" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />

                @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                {
                    <div class="index-card-banderin-desktop" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count" style="position: absolute; top: -22px; right: 2px; width: 104px; height: 103px; pointer-events: none; z-index: 100;">
                        <div class="index-card-banderin-carousel">
                            @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                            {
                                var banderinUrl = Model.BanderinUrls[auto.Id][i];
                                var isGif = banderinUrl.EndsWith(".gif", StringComparison.OrdinalIgnoreCase);
                                @if (isGif)
                                {
                                    <img src="@banderinUrl" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;" alt="Banderín" />
                                }
                                else
                                {
                                    <video autoplay loop muted playsinline preload="auto" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;">
                                        <source src="@banderinUrl" type="video/mp4">
                                    </video>
                                }
                            }
                        </div>
                    </div>
                }
            </div>

            <!-- Información del auto en 2 columnas -->
            <div style="width: 100%; padding: 8px 0; flex-direction: column; gap: 8px; display: flex;">
                <!-- Primera fila: Nombre y Favorito -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: flex-start; gap: 8px;">
                    <div style="flex: 1; color: white; font-size: 20px; font-family: Montserrat; font-weight: 700; line-height: 1.2; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">@auto.NombreCompleto</div>
                    <button class="favorite-btn-inline" 
                            data-auto-id="@auto.Id" 
                            data-email-usuario="@(User.Identity?.IsAuthenticated == true ? User.FindFirst(System.Security.Claims.ClaimTypes.Email)?.Value ?? User.FindFirst("Email")?.Value : "")"
                            title="Agregar a favoritos"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); return false;">
                        <img src="https://autoclickstorage.blob.core.windows.net/uploads/Component%20183.png" 
                             alt="Favorito" />
                    </button>
                </div>
                <!-- Segunda fila: Precio y Compartir -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: center; gap: 8px;">
                    <div style="color: white; font-size: 20px; font-family: Montserrat; font-weight: 500;">@auto.PrecioEnCRC</div>
                    <button class="share-btn-inline" 
                            data-auto-id="@auto.Id"
                            title="Compartir"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); shareAuto(@auto.Id, '@auto.NombreCompleto'); return false;">
                        <img src="/images/icons/share.svg" 
                             alt="Compartir" />
                    </button>
                </div>
            </div>
        </div>
            recientesIndex++;
        }
    }
    else
    {
        <div style="width: calc(100% - 64px); left: 32px; top: 1431px; position: absolute; padding: 80px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 18px;">
            No se encuentran autos recién vistos por mostrar
        </div>
    }

    <!-- Línea divisora después de Autos recientes -->
    <div style="width: calc(100% - 64px); height: 1px; background: rgba(255, 255, 255, 0.15); left: 32px; top: 1768px; position: absolute;"></div>

    <!-- Sección Autos guardados -->
    <div style="width: 100%; left: 0px; top: 1808px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="width: calc(100% - 64px); padding-left: 32px; padding-right: 32px; justify-content: space-between; align-items: center; display: flex">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Autos guardados</div>
            <div data-estado="Default" style="height: 40px; justify-content: center; align-items: center; gap: 8px; display: flex">
                <div style="justify-content: center; align-items: center; gap: 8px; display: flex">
                    <a asp-page="/Guardados" style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 18px; font-family: Montserrat; font-weight: 500; text-decoration: underline; word-wrap: break-word">Ver todos los guardados</a>
                </div>
            </div>
        </div>
    </div>

    @if (Model.AutosGuardados.Any())
    {
        int guardadosIndex = 0;
        foreach (var auto in Model.AutosGuardados.Take(4))
        {
        <div class="auto-card" data-estado="Default" style="width: calc((100% - 160px) / 4); height: 360px; padding: 8px; left: calc(32px + @guardadosIndex * (100% - 160px) / 4 + @guardadosIndex * 32px); top: 1864px; position: absolute; border-radius: 8px; overflow: visible; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex; cursor: pointer;" onclick="window.location.href='@Url.Page("/Producto", new { id = auto.Id })'">
            <div style="width: 100%; height: 260px; position: relative; overflow: visible;">
                <img style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/395x200" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />

                @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                {
                    <div class="index-card-banderin-desktop" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count" style="position: absolute; top: -22px; right: 2px; width: 104px; height: 103px; pointer-events: none; z-index: 100;">
                        <div class="index-card-banderin-carousel">
                            @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                            {
                                var banderinUrl = Model.BanderinUrls[auto.Id][i];
                                var isGif = banderinUrl.EndsWith(".gif", StringComparison.OrdinalIgnoreCase);
                                @if (isGif)
                                {
                                    <img src="@banderinUrl" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;" alt="Banderín" />
                                }
                                else
                                {
                                    <video autoplay loop muted playsinline preload="auto" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;">
                                        <source src="@banderinUrl" type="video/mp4">
                                    </video>
                                }
                            }
                        </div>
                    </div>
                }
            </div>

            <!-- Información del auto en 2 columnas -->
            <div style="width: 100%; padding: 8px 0; flex-direction: column; gap: 8px; display: flex;">
                <!-- Primera fila: Nombre y Favorito -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: flex-start; gap: 8px;">
                    <div style="flex: 1; color: white; font-size: 20px; font-family: Montserrat; font-weight: 700; line-height: 1.2; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">@auto.NombreCompleto</div>
                    <button class="favorite-btn-inline" 
                            data-auto-id="@auto.Id" 
                            data-email-usuario="@(User.Identity?.IsAuthenticated == true ? User.FindFirst(System.Security.Claims.ClaimTypes.Email)?.Value ?? User.FindFirst("Email")?.Value : "")"
                            title="Agregar a favoritos"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); return false;">
                        <img src="https://autoclickstorage.blob.core.windows.net/uploads/Component%20183.png" 
                             alt="Favorito" />
                    </button>
                </div>
                <!-- Segunda fila: Precio y Compartir -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: center; gap: 8px;">
                    <div style="color: white; font-size: 20px; font-family: Montserrat; font-weight: 500;">@auto.PrecioEnCRC</div>
                    <button class="share-btn-inline" 
                            data-auto-id="@auto.Id"
                            title="Compartir"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); shareAuto(@auto.Id, '@auto.NombreCompleto'); return false;">
                        <img src="/images/icons/share.svg" 
                             alt="Compartir" />
                    </button>
                </div>
            </div>
        </div>
            guardadosIndex++;
        }
    }
    else
    {
        <div style="width: calc(100% - 64px); left: 32px; top: 1927px; position: absolute; padding: 80px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 18px;">
            No se encuentran autos guardados por mostrar
        </div>
    }

    <!-- Línea divisora después de Autos guardados -->
    <div style="width: calc(100% - 64px); height: 1px; background: rgba(255, 255, 255, 0.15); left: 32px; top: 2264px; position: absolute;"></div>

    <!-- Sección Explorar todos los autos -->
    <div style="width: 100%; left: 0px; top: 2304px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="width: calc(100% - 64px); padding-left: 32px; padding-right: 32px; justify-content: space-between; align-items: center; display: flex">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Explorar todos los autos</div>
            <div data-estado="Default" style="height: 40px; justify-content: center; align-items: center; gap: 8px; display: flex">
                <div style="justify-content: center; align-items: center; gap: 8px; display: flex">
                    <a asp-page="/BusquedaAvanzada" style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 18px; font-family: Montserrat; font-weight: 500; text-decoration: underline; word-wrap: break-word">Ver todos los autos</a>
                </div>
            </div>
        </div>
    </div>

    @if (Model.AutosExploracion.Any())
    {
        int exploracionIndex = 0;
        foreach (var auto in Model.AutosExploracion.Take(4))
        {
        <div class="auto-card" data-estado="Default" style="width: calc((100% - 160px) / 4); height: 360px; padding: 8px; left: calc(32px + @exploracionIndex * (100% - 160px) / 4 + @exploracionIndex * 32px); top: 2360px; position: absolute; border-radius: 8px; overflow: visible; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex; cursor: pointer;" onclick="window.location.href='@Url.Page("/Producto", new { id = auto.Id })'">
            <div style="width: 100%; height: 260px; position: relative; overflow: visible;">
                <img style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" src="@(string.IsNullOrEmpty(auto.ImagenPrincipal) ? "https://placehold.co/395x200" : auto.ImagenPrincipal)" alt="@auto.NombreCompleto" />

                @if (Model.BanderinUrls.ContainsKey(auto.Id) && Model.BanderinUrls[auto.Id].Any())
                {
                    <div class="index-card-banderin-desktop" data-auto-id="@auto.Id" data-banderin-count="@Model.BanderinUrls[auto.Id].Count" style="position: absolute; top: -22px; right: 2px; width: 104px; height: 103px; pointer-events: none; z-index: 100;">
                        <div class="index-card-banderin-carousel">
                            @for (int i = 0; i < Model.BanderinUrls[auto.Id].Count; i++)
                            {
                                var banderinUrl = Model.BanderinUrls[auto.Id][i];
                                var isGif = banderinUrl.EndsWith(".gif", StringComparison.OrdinalIgnoreCase);
                                @if (isGif)
                                {
                                    <img src="@banderinUrl" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;" alt="Banderín" />
                                }
                                else
                                {
                                    <video autoplay loop muted playsinline preload="auto" class="@(i == 0 ? "active" : "")" style="width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5)); position: absolute; top: 0; left: 0; opacity: @(i == 0 ? "1" : "0"); transition: opacity 1s ease-in-out;">
                                        <source src="@banderinUrl" type="video/mp4">
                                    </video>
                                }
                            }
                        </div>
                    </div>
                }
            </div>

            <!-- Información del auto en 2 columnas -->
            <div style="width: 100%; padding: 8px 0; flex-direction: column; gap: 8px; display: flex;">
                <!-- Primera fila: Nombre y Favorito -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: flex-start; gap: 8px;">
                    <div style="flex: 1; color: white; font-size: 20px; font-family: Montserrat; font-weight: 700; line-height: 1.2; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">@auto.NombreCompleto</div>
                    <button class="favorite-btn-inline" 
                            data-auto-id="@auto.Id" 
                            data-email-usuario="@(User.Identity?.IsAuthenticated == true ? User.FindFirst(System.Security.Claims.ClaimTypes.Email)?.Value ?? User.FindFirst("Email")?.Value : "")"
                            title="Agregar a favoritos"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); return false;">
                        <img src="https://autoclickstorage.blob.core.windows.net/uploads/Component%20183.png" 
                             alt="Favorito" />
                    </button>
                </div>
                <!-- Segunda fila: Precio y Compartir -->
                <div style="width: 100%; display: flex; justify-content: space-between; align-items: center; gap: 8px;">
                    <div style="color: white; font-size: 20px; font-family: Montserrat; font-weight: 500;">@auto.PrecioEnCRC</div>
                    <button class="share-btn-inline" 
                            data-auto-id="@auto.Id"
                            title="Compartir"
                            type="button"
                            onclick="event.stopPropagation(); event.preventDefault(); shareAuto(@auto.Id, '@auto.NombreCompleto'); return false;">
                        <img src="/images/icons/share.svg" 
                             alt="Compartir" />
                    </button>
                </div>
            </div>
        </div>
            exploracionIndex++;
        }
    }
    else
    {
        <div style="width: calc(100% - 64px); left: 32px; top: 2423px; position: absolute; padding: 80px 20px; text-align: center; color: rgba(255, 255, 255, 0.6); font-family: Montserrat; font-size: 18px;">
            No se encuentran autos por explorar
        </div>
    }

    <!-- Línea divisora después de Explorar todos -->
    <div style="width: calc(100% - 64px); height: 1px; background: rgba(255, 255, 255, 0.15); left: 32px; top: 2760px; position: absolute;"></div>

    <!-- Sección Explorar por marca -->
    <div style="width: 100%; left: 0px; top: 2800px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="padding-left: 32px;">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Explorar por marca</div>
        </div>
    </div>

    <!-- Grid de marcas -->
    <div style="width: calc(100% - 64px); left: 32px; top: 2856px; position: absolute; display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
        <!-- Lexus -->
        <a href="/BusquedaAvanzada?marca=Lexus" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Lexus.png" alt="Lexus" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Toyota -->
        <a href="/BusquedaAvanzada?marca=Toyota" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Toyota.png" alt="Toyota" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Kia -->
        <a href="/BusquedaAvanzada?marca=Kia" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/KIA.png" alt="Kia" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Nissan -->
        <a href="/BusquedaAvanzada?marca=Nissan" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/NISSAN.png" alt="Nissan" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Mercedes-Benz -->
        <a href="/BusquedaAvanzada?marca=Mercedes-Benz" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Mercedes%20Benz.png" alt="Mercedes-Benz" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- BMW -->
        <a href="/BusquedaAvanzada?marca=BMW" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/BMW.png" alt="BMW" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Audi -->
        <a href="/BusquedaAvanzada?marca=Audi" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Audi.png" alt="Audi" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>

        <!-- Porsche -->
        <a href="/BusquedaAvanzada?marca=Porsche" style="height: 129px; padding: 32px 40px; background: #030D2B; border-radius: 4px; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s ease; cursor: pointer; box-sizing: border-box;" onmouseover="this.style.background='#04112f'" onmouseout="this.style.background='#030D2B'">
            <img src="https://autoclickstorage.blob.core.windows.net/logosfiltroautos/Porsche.png" alt="Porsche" style="max-height: 65px; width: auto; object-fit: contain;" />
        </a>
    </div>

    <!-- Línea divisora después de Explorar por marca -->
    <div style="width: calc(100% - 64px); height: 1px; background: rgba(255, 255, 255, 0.15); left: 32px; top: 3170px; position: absolute;"></div>

    <!-- Sección Noticias -->
    <div style="width: 100%; left: 0px; top: 3210px; position: absolute; justify-content: flex-start; align-items: center; gap: 10px; display: inline-flex">
        <div style="width: 22px; height: 6px; position: relative; background: white; border-top-right-radius: 100px; border-bottom-right-radius: 100px"></div>
        <div style="padding-left: 32px;">
            <div style="text-box-trim: trim-both; text-box-edge: cap alphabetic; color: white; font-size: 24px; font-family: Montserrat; font-weight: 700; word-wrap: break-word">Noticias</div>
        </div>
    </div>

    <!-- Noticia Grande (Izquierda) -->
    <a href="https://autoclick.cr" target="_blank" rel="noopener noreferrer" 
       class="noticia-grande"
       style="width: calc(47% - 32px); height: 520px; left: 32px; top: 3266px; position: absolute; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; justify-content: flex-end; text-decoration: none; cursor: pointer;">
        <img src="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=800&h=600&fit=crop" 
             alt="Noticia principal" 
             style="position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
        <div style="position: relative; width: 100%; height: 74px; background: linear-gradient(to top, rgba(0,0,0,0.8) 25%, rgba(0,0,0,0)); padding: 12px 24px; display: flex; align-items: center; overflow: hidden;">
            <p style="color: white; font-size: 20px; font-family: Montserrat; font-weight: 700; line-height: normal; margin: 0; width: 100%; word-wrap: break-word;">
                Nace AutoClick.cr: su nuevo aliado para encontrar o vender carro en Costa Rica
            </p>
        </div>
    </a>

    <!-- Noticia 1 (Derecha Superior) -->
    <a href="https://www.larepublica.net/seccion/motores" target="_blank" rel="noopener noreferrer"
       class="noticia-mediana"
       style="width: calc(53% - 54px); left: calc(47% + 10px); top: 3266px; position: absolute; border: 0.5px solid rgba(255,255,255,0); border-radius: 4px; padding: 8px 10px; text-decoration: none; cursor: pointer;">
        <div style="display: flex; gap: 20px; height: 152px; align-items: center; width: 100%;">
            <div style="width: 310px; height: 151px; border-radius: 4px; overflow: hidden; flex-shrink: 0;">
                <img src="https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=300&h=200&fit=crop" 
                     alt="Noticia 1" 
                     style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;" />
            </div>
            <div style="display: flex; flex-direction: column; gap: 32px; flex: 1;">
                <div style="padding: 0 0 0 16px; display: flex; align-items: center; gap: 8px;">
                    <p style="color: white; font-size: 14px; font-family: Montserrat; font-weight: 500; margin: 0; white-space: nowrap;">
                        13 de junio de 2025
                    </p>
                </div>
                <p style="color: white; font-size: 16px; font-family: Montserrat; font-weight: 700; line-height: normal; margin: 0; height: 53px; overflow: hidden;">
                    Cambios fiscales para vehículos eléctricos en Costa Rica | La República
                </p>
            </div>
        </div>
    </a>

    <!-- Facebook -->
    <a href="https://www.facebook.com/people/AutoClickcr/61571098692710/" target="_blank" rel="noopener noreferrer"
       class="noticia-mediana"
       style="width: calc(26.5% - 27px); height: 152px; left: calc(47% + 20px); top: 3438px; position: absolute; border: 0.5px solid rgba(59, 89, 152, 0.4); border-radius: 4px; padding: 16px; text-decoration: none; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(59, 89, 152, 0.15) 0%, rgba(88, 113, 186, 0.12) 50%, rgba(59, 89, 152, 0.08) 100%); box-shadow: 0 4px 12px rgba(59, 89, 152, 0.1); transition: all 0.3s ease;">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="#1877F2" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
        </svg>
        <p style="color: white; font-size: 15px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Síguenos en Facebook</p>
    </a>

    <!-- Instagram -->
    <a href="https://www.instagram.com/autoclick.cr/" target="_blank" rel="noopener noreferrer"
       class="noticia-mediana"
       style="width: calc(26.5% - 27px); height: 152px; left: calc(73.5% + 5px); top: 3438px; position: absolute; border: 0.5px solid rgba(225, 48, 108, 0.4); border-radius: 4px; padding: 16px; text-decoration: none; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(131, 58, 180, 0.15) 0%, rgba(253, 29, 29, 0.12) 50%, rgba(252, 176, 69, 0.1) 100%); box-shadow: 0 4px 12px rgba(225, 48, 108, 0.1); transition: all 0.3s ease;">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="url(#instagram-gradient-desktop)" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="instagram-gradient-desktop" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#833AB4;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#FD1D1D;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#FCB045;stop-opacity:1" />
                </linearGradient>
            </defs>
            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
        </svg>
        <p style="color: white; font-size: 15px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Síguenos en Instagram</p>
    </a>

    <!-- WhatsApp -->
    <a href="https://wa.me/50671052418" target="_blank" rel="noopener noreferrer"
       class="noticia-mediana"
       style="width: calc(53% - 44px); height: 152px; left: calc(47% + 20px); top: 3610px; position: absolute; border: 0.5px solid rgba(37, 211, 102, 0.4); border-radius: 4px; padding: 16px; text-decoration: none; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; background: linear-gradient(135deg, rgba(37, 211, 102, 0.15) 0%, rgba(52, 232, 122, 0.12) 50%, rgba(37, 211, 102, 0.08) 100%); box-shadow: 0 4px 12px rgba(37, 211, 102, 0.1); transition: all 0.3s ease;">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="#25D366" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
        </svg>
        <p style="color: white; font-size: 15px; font-family: Montserrat; font-weight: 600; margin: 0; text-align: center;">Contáctanos por WhatsApp</p>
    </a>
</div>

<script>
// Hero Background Carousel - Rotate every 6 seconds
document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.querySelector('.index-hero-background-carousel');
    if (!carousel) return;
    
    const images = carousel.querySelectorAll('img');
    let currentIndex = 0;
    
    function rotateBackground() {
        // Remove classes from all images
        images.forEach(img => {
            img.classList.remove('active', 'prev');
        });
        
        // Set previous image
        const prevIndex = currentIndex;
        images[prevIndex].classList.add('prev');
        
        // Move to next image
        currentIndex = (currentIndex + 1) % images.length;
        
        // Set new active image
        images[currentIndex].classList.add('active');
    }
    
    // Rotate every 6 seconds
    setInterval(rotateBackground, 6000);
});

// Carousel para banderines
document.addEventListener('DOMContentLoaded', function() {
    // Función para rotar banderines de un auto específico
    function rotateBanderines(container) {
        const carousel = container.querySelector('.index-card-banderin-carousel, .index-banderin-carousel');
        if (!carousel) return;
        
        const items = carousel.querySelectorAll('img, video');
        if (items.length <= 1) return; // No rotar si solo hay un banderín
        
        let currentIndex = 0;
        
        function rotate() {
            // Remover clase active del actual
            items[currentIndex].classList.remove('active');
            items[currentIndex].style.opacity = '0';
            
            // Mover al siguiente
            currentIndex = (currentIndex + 1) % items.length;
            
            // Agregar clase active al nuevo
            items[currentIndex].classList.add('active');
            items[currentIndex].style.opacity = '1';
        }
        
        // Rotar cada 6 segundos
        setInterval(rotate, 6000);
    }
    
    // Inicializar carousels para todos los banderines
    const banderinContainers = document.querySelectorAll('.index-card-banderin, .index-card-banderin-desktop');
    banderinContainers.forEach(container => {
        const count = parseInt(container.getAttribute('data-banderin-count') || '0');
        if (count > 1) {
            rotateBanderines(container);
        }
    });
});

// Función para compartir un auto
function shareAuto(autoId, autoNombre) {
    const url = window.location.origin + '/Producto?id=' + autoId;
    const title = autoNombre;
    
    // Si el navegador soporta Web Share API
    if (navigator.share) {
        navigator.share({
            title: title,
            text: 'Mira este auto en AutoClick.cr: ' + autoNombre,
            url: url
        }).catch((error) => {
            // Si el usuario cancela, no hacer nada
            if (error.name !== 'AbortError') {
                console.log('Error al compartir:', error);
                fallbackShare(url);
            }
        });
    } else {
        // Fallback: copiar al portapapeles
        fallbackShare(url);
    }
}

function fallbackShare(url) {
    // Copiar URL al portapapeles
    navigator.clipboard.writeText(url).then(() => {
        // Mostrar mensaje temporal
        const msg = document.createElement('div');
        msg.textContent = '¡Enlace copiado al portapapeles!';
        msg.style.cssText = 'position: fixed; bottom: 20px; right: 20px; background: #00CC00; color: white; padding: 12px 20px; border-radius: 4px; font-family: Montserrat; font-weight: 500; z-index: 10000; animation: slideIn 0.3s ease;';
        document.body.appendChild(msg);
        
        setTimeout(() => {
            msg.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => msg.remove(), 300);
        }, 2000);
    }).catch((err) => {
        console.error('Error al copiar:', err);
    });
}
</script>

<style>
@@keyframes slideIn {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@@keyframes slideOut {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(400px);
        opacity: 0;
    }
}
</style>
