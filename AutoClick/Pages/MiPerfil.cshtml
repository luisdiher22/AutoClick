@page
@model AutoClick.Pages.MiPerfilModel
@{
    ViewData["Title"] = "Mi perfil - AutoClick.cr";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/mi-perfil.css" />
}

<div class="page-wrapper">
    <div class="mi-perfil-container">
        <!-- Sidebar -->
        <aside class="profile-sidebar">
        <nav class="sidebar-nav">
            <a href="/MiPerfil" class="nav-item active" data-section="personal">
                <div class="nav-icon personal-icon"></div>
                <span>Información personal</span>
            </a>
            
            <a href="/HistorialPagos" class="nav-item" data-section="payments">
                <div class="nav-icon payments-icon"></div>
                <span>Historial de pagos</span>
            </a>
            
            <a href="/ConfiguracionCuenta" class="nav-item" data-section="settings">
                <div class="nav-icon settings-icon"></div>
                <span>Configuración de cuenta</span>
            </a>
        </nav>
        <div class="sidebar-indicator"></div>
    </aside>

    <!-- Main Content -->
    <main class="profile-content">
        <form method="post" class="profile-form" enctype="multipart/form-data">
            <!-- Profile Header -->
            <div class="profile-header">
                <div class="profile-avatar-section">
                    <div class="profile-avatar">
                        @{
                            var profileImageUrl = !string.IsNullOrEmpty(Model.ImagenPerfilUrl) ? Model.ImagenPerfilUrl : Model.LogoUrl;
                        }
                        @if (!string.IsNullOrEmpty(profileImageUrl))
                        {
                            <img src="@profileImageUrl" alt="Logo de la empresa" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;" />
                        }
                        else
                        {
                            <div class="avatar-placeholder">
                                <span>LOGO<br/>(SI TIENE)</span>
                            </div>
                        }
                    </div>
                    
                    <h1 class="company-name">@(Model.NombreEmpresa ?? "Nombre de la empresa")</h1>
                </div>
            </div>

            <!-- Company Data Section -->
            <section class="form-section">
                <h2 class="section-title">Datos de la empresa</h2>
                
                <div class="form-grid">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nombreComercial">Nombre comercial</label>
                            <input type="text" id="nombreComercial" name="NombreComercial" 
                                   asp-for="NombreComercial" class="form-input" 
                                   placeholder="Nombre de la empresa" />
                            <span asp-validation-for="NombreComercial" class="validation-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="cedulaJuridica">Cédula Jurídica</label>
                            <input type="text" id="cedulaJuridica" name="CedulaJuridica" 
                                   asp-for="CedulaJuridica" class="form-input" 
                                   placeholder="3-008-4534245" />
                            <span asp-validation-for="CedulaJuridica" class="validation-message"></span>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="representanteLegal">Representante legal</label>
                            <input type="text" id="representanteLegal" name="RepresentanteLegal" 
                                   asp-for="RepresentanteLegal" class="form-input" 
                                   placeholder="Guillermo Montero Picado" />
                            <span asp-validation-for="RepresentanteLegal" class="validation-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="telefono1">Teléfono 1</label>
                            <input type="tel" id="telefono1" name="Telefono1" 
                                   asp-for="Telefono1" class="form-input" 
                                   placeholder="8468-8843" />
                            <span asp-validation-for="Telefono1" class="validation-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="whatsapp">WhatsApp</label>
                            <input type="tel" id="whatsapp" name="WhatsApp" 
                                   asp-for="WhatsApp" class="form-input" 
                                   placeholder="6275-2760" />
                            <span asp-validation-for="WhatsApp" class="validation-message"></span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Address Section -->
            <section class="form-section">
                <h2 class="section-title">Dirección</h2>
                
                <div class="form-grid">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="provincia">Provincia <span class="required">*</span></label>
                            <select id="provincia" name="Provincia" asp-for="Provincia" class="form-input" required>
                                <option value="">Seleccione provincia</option>
                                <option value="San José">San José</option>
                                <option value="Alajuela">Alajuela</option>
                                <option value="Cartago">Cartago</option>
                                <option value="Heredia">Heredia</option>
                                <option value="Guanacaste">Guanacaste</option>
                                <option value="Puntarenas">Puntarenas</option>
                                <option value="Limón">Limón</option>
                            </select>
                            <span asp-validation-for="Provincia" class="validation-message"></span>
                        </div>
                        
                        <div class="form-group">
                            <label for="canton">Cantón <span class="required">*</span></label>
                            <input type="text" id="canton" name="Canton" asp-for="Canton" class="form-input" placeholder="Ingrese el cantón" required />
                            <span asp-validation-for="Canton" class="validation-message"></span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Logos Section -->
            <section class="form-section logos-section">
                <h2 class="section-title">Logo</h2>
                
                <div class="logos-container">
                    <div class="logo-upload-area" id="logoUpload1">
                        <input type="file" id="logoFile1" name="LogoFile1" accept="image/*" style="display: none;" />
                        <div class="logo-placeholder">
                            <div class="upload-icon"></div>
                            <div class="upload-text">Subir logo</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Form Actions -->
            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="resetForm()">Cancelar</button>
                <button type="submit" class="btn-primary">Guardar cambios</button>
            </div>
        </form>
    </main>
    </div>
</div>

@section Scripts {
    <script src="~/js/mi-perfil.js"></script>
}

